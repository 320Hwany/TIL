# 가비지 컬렉터

> 가비지 컬렉터의 역할을 알기 위해 먼저 예시를 들겠다.  

주방장이 레시피를 보고 요리를 하며 조리대에 재료들과 도구들을 올려 놓는다. 조리대 위에 올려놓은 것이 너무 많으면 요리를 진행할 수 없다.  
이때 조수가 내 옆에서 더 이상 쓰지 않을 것 같은 것을 알아서 치워준다면 좋을 것이다.  
여기서 레시피는 프로그래머가 만든 코드, 조리대는 메모리, 조수는 가비지 컬렉터라고 할 수 있다.

> 가비지 컬렉터가 없다면?

레시피에 일일이 앞으로 필요없는 재료들과 도구를 써줘야한다. 즉 프로그래머가 메모리를 관리해주어야 한다.  
메모리 관리를 잘 해주지 못하면 조리대가 꽉차 요리를 할 수 없는 것처럼 컴퓨터가 제 기능을 할 수 없다.  
C언어에서는 malloc으로 메모리를 관리 해준다.

가비지 컬렉터가 알아서 관리를 해주는 언어 : managed language (ex. java)  
프로그래머가 메모리를 관리해야하는 언어 : unmanaged language (ex. c언어)   

## 가비지 컬렉터가 동작하는 방식

1. Mark-and-sweep  

조리대를 쭉 훑으면서 필요한 것들만 마크하고 마크되지 않은 것들은 갖다 버린다. 

2. Reference counting (참조 카운팅)

한 요소가 다른 요소에게 몇번 참조가 되는지를 세어본다. 0이되면 치운다.  

> 가비지 컬렉터의 한계  

하지만 이러한 방식들이 지워야할 것들을 100퍼센트 다잡아내지는 못한다...

따라서 가비지 컬렉터가 있는 언어를 사용하더라도 프로그래머는 메모리관리에 신경을 써야한다!

자바 가비지 컬렉터에 대해 자세히 알아보기!

출처 : 얄팍한 코딩사전(유튜브)
